<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<script type="text/javascript" src="js/jquery-3.4.1.js"></script>
		<link rel="stylesheet" href="style/main.css" type="text/css">
		<title>è½®è¯¢å‘åˆ—è¡¨å¢é‡</title>
	</head>
	<body>
		<div class="box">
			<!-- <ul id="ulBox"></ul> -->

			<div class="main_ti marginTop50">
				<ul class="main_tu">
					<li>
						<p class="person_r4"><a name="person_speak">ç¾¤ç»„å‘è¨€</a></p>
					</li>
					<li></li>
				</ul>
			</div>
			<table border="0" cellpadding="0" cellspacing="0" class="table_4">
				<thead>
					<tr>
						<th width="12%">å‘é€æ—¶é—´</th>
						<th width="46%">æ¶ˆæ¯å†…å®¹</th>
						<th width="15%">å‘é€è€…</th>
						<th width="15%">æ¥æ”¶è€…</th>
						<th width="12%">é‡‡é›†æ—¶é—´</th>

					</tr>
				</thead>
				<tbody id="ulBox">


				</tbody>
			</table>
		</div>
		<script type="text/javascript">
			const ul = document.getElementById('ulBox')
			var array = [
				            {"sendTime":"<span>2020-05-22 04:32:07</span>",
				                "content":                "<video width='320' height='240' controls><source src='./resource/_b_675_2d7f7973709aa6df58161b675888f225.mp4' type='video/mp4'/></video>",
				                "sender":"<span>ã€ååŠ©ä¼šã€‘åŒºå—äº‘å¼€è½¦æœºå™¨äººğŸ˜(1334655884)</span>",
				                "recipient":  "<span> ä¸œå—äºšç¦åˆ©å¼€è½¦ä¿±ä¹éƒ¨(1210721988)</span>",
				                "acquisition":"<span>2021-08-25 16:37:10</span>"
				            },
				
				            {"sendTime":"<span>2020-05-22 04:32:07</span>",
				                "content":                "<video width='320' height='240' controls><source src='./resource/_b_352_4f27f242cd9ec7ee7ab8dc00d0d07583.mp4' type='video/mp4'/></video>",
				                "sender":"<span>ã€ååŠ©ä¼šã€‘åŒºå—äº‘å¼€è½¦æœºå™¨äººğŸ˜(1334655884)</span>",
				                "recipient":  "<span> å¹²å¹²å¹²å¦¹å­è§†é¢‘(1225859521)</span>",
				                "acquisition":"<span>2021-07-13 06:01:42</span>"
				            },
				
				            {"sendTime":"<span>2020-05-22 04:32:07</span>",
				                "content":                "<video width='320' height='240' controls><source src='./resource/_b_118_259157ad6a15dabe23fe97dd661c417c.mp4' type='video/mp4'/></video>",
				                "sender":"<span>ã€ååŠ©ä¼šã€‘åŒºå—äº‘å¼€è½¦æœºå™¨äººğŸ˜(1334655884)</span>",
				                "recipient":  "<span> æŠ–éŸ³ğŸŒ¸æˆäººç”µå½±è®¨è®ºç¾¤-çº¦ç‚®(1210516923)</span>",
				                "acquisition":"<span>2021-08-13 15:10:09</span>"
				            }
				
			];

			var arrayTitle = ["sendTime", "content", "sender", "recipient", "acquisition"];
			// ä¸€æ¬¡å±•ç¤ºå¤šå°‘æ•°æ®
			const once = 1;
			// åº”æ‰§è¡Œæ•°é‡
			const number = array.length / once;
			// å·²æ‰§è¡Œæ•°é‡
			var areadyNum = 0;
			// æ•°æ®å¾€é‡Œé¢åŠ å…¥
			for (var i = 0; i < array.length; i++) {
				const tdagment = document.createDocumentFragment();

				for (var j = 0; j < arrayTitle.length; j++) {
					const td = document.createElement("td")
					td.innerHTML = array[i][arrayTitle[j]]
					tdagment.appendChild(td);
				}
				array[i] = tdagment;
			}

			function addItem() {
				//        åˆ›å»ºä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹å ä½
				const fragment = document.createDocumentFragment();
				// ç”Ÿæˆonceä¸ªtræ ‡ç­¾,æ”¾å…¥è™šæ‹ŸèŠ‚ç‚¹
				for (var i = 0; i < once; i++) {
					const tr = document.createElement("tr")
					var col = array[areadyNum * once + i];
					tr.appendChild(col);
					fragment.appendChild(tr);
				}
				// å°†èŠ‚ç‚¹çš„æ”¾å…¥ulæ ‡ç­¾ä¸­
				ul.appendChild(fragment)
				// ä¸€æ¬¡æ‰§è¡Œå®Œæˆè¿½åŠ 1
				areadyNum++;
				// æŸ¥è¯¢æ˜¯å¦å¾ªç¯åˆ°æœ€åæ‰§è¡Œæ•°
				continueDo();
			}

			function continueDo() {
				if (areadyNum < number) {
					window.requestAnimationFrame(addItem);
				}
			}
			continueDo();
		</script>
	</body>
</html>
